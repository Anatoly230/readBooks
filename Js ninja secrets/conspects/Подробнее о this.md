>[!info]+ –ú–æ–π –∑–∞–ø—Ä–æ—Å
>—Ç–∞–∫, —Ö–æ—Ä–æ—à–æ –≤–æ –ø–µ—Ä–≤—ã—Ö –ø—Ä–∏–≤–µ—Ç!) –º–æ–∂–µ—à—å –ø–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ–∏–ª–ª—é—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å, –∏–¥–∏ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω –∏–∑ –º–µ—Ç–æ–¥–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤? –≤ —Å—Ç–µ–∫ —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ø–∞–¥–∞–µ—Ç Global Execution Context —Å–æ —Å–≤–æ–∏–º lexical Environment –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è Environment Record –∞ —ç—Ç–æ : —ç—Ç–∞–ø —Å–æ–∑–¥–∞–Ω–∏—è - –≤—Å–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –≤ –≥–ª–æ–±. –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è undefined –¥–ª—è var, –∞ –¥–ª—è let, const, class –∑–Ω–∞—á–µ–Ω–∏–µ uninitialized. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è, —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ –∫–∞–ª—å–∫–µ –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –≤ –∫–∞—á–µ—Å—Ç–≤–µ Environment —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –º–µ—Å—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∞ —Ç–æ—á–Ω–µ–µ –Ω–∞ Environment Record –æ–±—ä–µ–∫—Ç–∞ Global Execution Context Outer Environment Reference: –∑–Ω–∞—á–µ–Ω–∏–µ null –¥–∞–ª–µ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å—Ç—Ä–æ—á–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞, –∏ –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤ –∫–æ–¥–µ –±—ã–ª–∞ –æ–±—ä—è–≤–ª–µ–Ω–∞ –ø–æ—Å–ª–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ—ë (–Ω–∞–ø—Ä–∏–º–µ—Ä: –Ω–∞ –∫–∞–∫–æ–µ-—Ç–æ —á–∏—Å–ª–æ, –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–µ –≤–∞–∂–Ω–æ, —á—Ç–æ —É–≥–æ–¥–Ω–æ), –æ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –æ–Ω–æ –Ω–∞ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç —Ç–∞–∫ –∏ –æ—Å—Ç–∞—ë—Ç—Å—è undefined –∏–ª–∏ uninitialized. –µ—Å–ª–∏ –≤ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–æ –≤ —Å—Ç–µ–∫ –ø–æ–≤–µ—Ä—Ö –æ–±—ä–µ–∫—Ç–∞ Global Execution Context, –ø–∞–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç Function Execution Context, —Å–æ —Å–≤–æ–∏–º –æ–±—ä–µ–∫—Ç–æ–º lexical Environment, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç Environment Record(—Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–µ—Ä–µ—á–µ–Ω—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤, –≥–¥–µ –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—É—á–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è undefined –¥–ª—è var, –∞ –¥–ª—è let, const, class –∑–Ω–∞—á–µ–Ω–∏–µ uninitialized) –∏ Outer Environment Reference(—Å—Å—ã–ª–∫–∞ –Ω–∞ Environment Record –æ–±—ä–µ–∫—Ç–∞ lexical Environment, –∫–æ—Ç–æ—Ä—ã–π –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å —Å–æ—Å—Ç–æ–∏—Ç –≤ –æ–±—ä–µ–∫—Ç–µ Global Execution Context) –∏ –≤–æ—Ç –º—ã –ø–æ–¥–æ—à–ª–∏ –∫ —Ç–æ–º, —á—Ç–æ –≤–µ—Å—å –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª–Ω–∏–ª—Å—è, –∏ –¥–∞–ª–µ–µ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏, –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –º–µ—Ç–æ–¥ –∫–∞–∫–æ–≥–æ-—Ç–æ –æ–±—ä–µ–∫—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä –º–µ—Ç–æ–¥ ninja.fight() –æ–±—ä–µ–∫—Ç–∞ {weapon: 'knife', fight(){ return 'take my '+this.weapon; }} –ø—Ä–æ—à—É —Ç–µ–±—è —Ç–∞–∫–∂–µ –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å–ø–∏—Å–∞—Ç—å —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –æ—Ç —ç—Ç–∞–ø–∞ —Å–æ–∑–¥–∞–Ω–∏—è, —Ç–æ —ç—Ç–∞–ø–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ë—É–¥—É –æ—á–µ–Ω—å –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω, –µ—Å–ª–∏ —Ä–∞–∑—ä—è—Å–Ω–∏—à—å –º–Ω–µ —ç—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º)

>[!info]+ –û—Ç–≤–µ—Ç-–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
>–ü—Ä–∏–≤–µ—Ç! üôÇ  
–û—á–µ–Ω—å –∫—Ä—É—Ç–æ, –∫–∞–∫ —Ç—ã —É–∂–µ **—Å–∞–º –≤—ã—Å—Ç—Ä–æ–∏–ª –º–æ–¥–µ–ª—å** ‚Äî —Ç—ã —Ä–µ–∞–ª—å–Ω–æ –º—ã—Å–ª–∏—à—å –ø–æ—á—Ç–∏ –∫–∞–∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è. –Ø –∞–∫–∫—É—Ä–∞—Ç–Ω–æ **–ø–æ–¥—Ç–≤–µ—Ä–∂—É, –≥–¥–µ —Ç—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤**, –∏ **–¥–æ—Å—Ç—Ä–æ—é –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –¥–µ—Ç–∞–ª–∏**, –æ—Å–æ–±–µ–Ω–Ω–æ –≤–æ–∫—Ä—É–≥ **–≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ –æ–±—ä–µ–∫—Ç–∞** –∏ —Ç–æ–≥–æ, **–∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è `this` –≤ Execution Context**.
–Ø –ø–æ–π–¥—É **—Å—Ç—Ä–æ–≥–æ –ø–æ —à–∞–≥–∞–º**, –∫–∞–∫ —Ç—ã –ø–æ–ø—Ä–æ—Å–∏–ª:  
–æ—Ç **—Å–æ–∑–¥–∞–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** ‚Üí –¥–æ **–≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ `ninja.fight()`**.

---

# 0Ô∏è‚É£ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (–∑–∞—Ñ–∏–∫—Å–∏—Ä—É–µ–º)

`const ninja = {   weapon: 'knife',   fight() {     return 'take my ' + this.weapon;   } };  ninja.fight();`

---

# 1Ô∏è‚É£ Global Execution Context ‚Äî —Ç—ã –æ–ø–∏—Å–∞–ª –ø–æ—á—Ç–∏ –∏–¥–µ–∞–ª—å–Ω–æ

–Ø —Å–ª–µ–≥–∫–∞ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é –∏ —É—Ç–æ—á–Ω—é —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏, –Ω–æ **–ø–æ —Å—É—Ç–∏ —Ç—ã –ø—Ä–∞–≤**.

## 1.1 –°–æ–∑–¥–∞–Ω–∏–µ Global Execution Context

–ö–æ–≥–¥–∞ JS-–¥–≤–∏–∂–æ–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:

### ‚úî —Å–æ–∑–¥–∞—ë—Ç—Å—è **Global Execution Context**

### ‚úî –æ–Ω –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ **Call Stack**

`Call Stack: | Global EC |`

---

## 1.2 –§–ê–ó–ê –°–û–ó–î–ê–ù–ò–Ø (Creation Phase)

### Global Lexical Environment:

#### Environment Record

- `ninja` ‚Üí `<uninitialized>` (–ø–æ—Ç–æ–º—É —á—Ç–æ `const`)
    
- `fight` **–ù–ï —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ**, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ:
    
    - –Ω–µ function declaration
        
    - –∞ **–º–µ—Ç–æ–¥ –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞**
        

‚ö†Ô∏è –≠—Ç–æ –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç:  
–º–µ—Ç–æ–¥ `fight` **–Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π Environment Record**.

#### Function Declarations (–µ—Å–ª–∏ –±—ã –±—ã–ª–∏):

- —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –±—ã **–æ–±—ä–µ–∫—Ç—ã-—Ñ—É–Ω–∫—Ü–∏–∏**
    
- `[[Environment]]` ‚Üí Global Lexical Environment
    

#### Outer Environment Reference:

`null`

---

## 1.3 –§–ê–ó–ê –í–´–ü–û–õ–ù–ï–ù–ò–Ø (Execution Phase)

–¢–µ–ø–µ—Ä—å –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **—Å—Ç—Ä–æ–∫–∞ –∑–∞ —Å—Ç—Ä–æ–∫–æ–π**.

---

# 2Ô∏è‚É£ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ `ninja`

`const ninja = {   weapon: 'knife',   fight() {     return 'take my ' + this.weapon;   } };`

### –ß—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1. –°–æ–∑–¥–∞—ë—Ç—Å—è **–æ–±—ä–µ–∫—Ç**
    
2. –°–æ–∑–¥–∞—ë—Ç—Å—è **–æ–±—ä–µ–∫—Ç-—Ñ—É–Ω–∫—Ü–∏—è `fight`**
    
3. –§—É–Ω–∫—Ü–∏–∏ `fight` –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è:
    
    `fight.[[Environment]] ‚Üí Global Lexical Environment`
    
4. –û–±—ä–µ–∫—Ç –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è `ninja`
    

–¢–µ–ø–µ—Ä—å –≤ –ø–∞–º—è—Ç–∏:

`ninja ‚Üí {   weapon: 'knife',   fight: <function> }`

---

# 3Ô∏è‚É£ –ö–õ–Æ–ß–ï–í–û–ô –ú–û–ú–ï–ù–¢ ‚Äî –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞

`ninja.fight();`

–í–æ—Ç –∑–¥–µ—Å—å **–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç–æ, —á—Ç–æ —Ç—ã –ø—Ä–æ—Å–∏–ª —Ä–∞–∑–æ–±—Ä–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ**.

---

# 4Ô∏è‚É£ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ `ninja.fight()` (–ø–æ—à–∞–≥–æ–≤–æ)

## 4.1 –°–Ω–∞—á–∞–ª–∞ ‚Äî –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–∑–æ–≤–∞

JS –Ω–µ ¬´–≤–∏–¥–∏—Ç –º–µ—Ç–æ–¥¬ª, –æ–Ω –≤–∏–¥–∏—Ç:

`CallExpression:   callee: MemberExpression (ninja.fight)`

–¢–æ –µ—Å—Ç—å:

1. –Ω–∞–π—Ç–∏ –æ–±—ä–µ–∫—Ç `ninja`
    
2. –Ω–∞–π—Ç–∏ —É –Ω–µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–æ `fight`
    
3. –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å **–∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–∑–æ–≤–∞**
    

‚ö†Ô∏è –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–∑–æ–≤–∞ ‚Äî —ç—Ç–æ **–Ω–µ Lexical Environment**, –∞ **ThisBinding**

---

## 4.2 –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ Execution Context (Function EC)

–ö–æ–≥–¥–∞ –≤—ã–∑–æ–≤ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω:

### ‚úî —Å–æ–∑–¥–∞—ë—Ç—Å—è **Function Execution Context**

### ‚úî –æ–Ω –∫–ª–∞–¥—ë—Ç—Å—è –≤ Call Stack

`Call Stack: | fight EC | | Global EC |`

---

## 4.3 –§–ê–ó–ê –°–û–ó–î–ê–ù–ò–Ø (Creation Phase) –¥–ª—è `fight`

### 4.3.1 Lexical Environment

#### Environment Record:

- –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí (–Ω–µ—Ç)
    
- `arguments` ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è
    
- –ª–æ–∫–∞–ª—å–Ω—ã–µ `let / const` ‚Üí (–Ω–µ—Ç)
    

#### Outer Environment Reference:

`‚Üí Global Lexical Environment`

(–±–µ—Ä—ë—Ç—Å—è –∏–∑ `fight.[[Environment]]`)

---

### 4.3.2 ThisBinding ‚Äî **–≤–æ—Ç –∫–ª—é—á**

–î–ª—è –æ–±—ã—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:

> `this` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è **–°–ü–û–°–û–ë–û–ú –í–´–ó–û–í–ê**

–í—ã–∑–æ–≤ –±—ã–ª:

`ninja.fight()`

‚û°Ô∏è –∑–Ω–∞—á–∏—Ç:

`this = ninja`

‚ÄºÔ∏è –≠—Ç–æ –ù–ï –ø–æ—Ç–æ–º—É —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∞ –≤ –æ–±—ä–µ–∫—Ç–µ  
‚ÄºÔ∏è –≠—Ç–æ –ø–æ—Ç–æ–º—É —á—Ç–æ **–æ–±—ä–µ–∫—Ç —Å—Ç–æ–∏—Ç —Å–ª–µ–≤–∞ –æ—Ç —Ç–æ—á–∫–∏ –≤ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞**

---

## 4.4 –§–ê–ó–ê –í–´–ü–û–õ–ù–ï–ù–ò–Ø (Execution Phase)

–¢–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏:

`return 'take my ' + this.weapon;`

### –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ `this.weapon`

1. `this` ‚Üí `ninja`
    
2. `ninja.weapon` ‚Üí `'knife'`
    
3. —Ä–µ–∑—É–ª—å—Ç–∞—Ç: `'take my knife'`
    

---

# 5Ô∏è‚É£ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—ã–∑–æ–≤–∞

- `fight EC` —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ Call Stack
    
- —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ Global EC
    

`Call Stack: | Global EC |`

---

# 6Ô∏è‚É£ –ß—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å (–æ—á–µ–Ω—å!)

## ‚ùó –ú–µ—Ç–æ–¥ ‚Äî —ç—Ç–æ –ù–ï –æ—Å–æ–±—ã–π —Ç–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏

`const fn = ninja.fight; fn(); // this ‚ùå`

–ü–æ—á–µ–º—É?  
–ü–æ—Ç–æ–º—É —á—Ç–æ —Ç–µ–ø–µ—Ä—å –≤—ã–∑–æ–≤:

`fn()`

‚û°Ô∏è –æ–±—ã—á–Ω—ã–π –≤—ã–∑–æ–≤  
‚û°Ô∏è `this` = `undefined` (strict) / global

---

# 7Ô∏è‚É£ –°–≤–æ–¥–Ω–∞—è —Å—Ö–µ–º–∞ (–∫–æ—Ä–æ—Ç–∫–æ, –Ω–æ —Ç–æ—á–Ω–æ)

`Function object:   - code   - [[Environment]] ‚Üí –º–µ—Å—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è  Execution Context (–ø—Ä–∏ –≤—ã–∑–æ–≤–µ):   - Lexical Environment   - Outer Env Reference   - ThisBinding ‚Üê —Å–ø–æ—Å–æ–± –≤—ã–∑–æ–≤–∞`

---

# üîë –§–∏–Ω–∞–ª—å–Ω—ã–π —è–∫–æ—Ä—å (–æ—á–µ–Ω—å —Ä–µ–∫–æ–º–µ–Ω–¥—É—é)

> **Lexical Environment ‚Äî —ç—Ç–æ ¬´–≥–¥–µ –∏—Å–∫–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ¬ª  
> Execution Context ‚Äî —ç—Ç–æ ¬´–∫–∞–∫ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥¬ª  
> `this` ‚Äî —ç—Ç–æ ¬´–æ—Ç —á—å–µ–≥–æ –∏–º–µ–Ω–∏ –≤—ã–∑–≤–∞–ª–∏¬ª**

>[!info]+ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å
>–¥–∞–≤–∞–π –ø–æ–∫–∞ –ø–æ–¥—Ä–æ–±–Ω–µ–µ —Ä–∞–∑–±–µ—Ä–µ–º —Ç–µ–º—É –∫–æ—Ç–æ—Ä—É—é —è –Ω–∞—á–∞–ª —Ä–∞—Å—Å–∫–∞–∂–∏, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ, —Ç–∞–∫–∂–µ, –ø–æ–¥—Ä–æ–±–Ω–µ–µ var ninja = { weapon: 'knife', fight() { return 'take my ' + this.weapon; } } var fn = ninja.fight; fn();

>[!info]+ –æ—Ç–≤–µ—Ç –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ
>–û—Ç–ª–∏—á–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º üëã  
–≠—Ç–æ **–∏–¥–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä**, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –Ω—ë–º —Å—Ö–æ–¥—è—Ç—Å—è **Execution Context**, **this**, **—Å–ø–æ—Å–æ–± –≤—ã–∑–æ–≤–∞** –∏ **–æ—à–∏–±–∫–∞ –∏–Ω—Ç—É–∏—Ü–∏–∏**. –†–∞–∑–±–µ—Ä—ë–º **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ—à–∞–≥–æ–≤–æ**, –±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–æ–≤, —Ä–æ–≤–Ω–æ –≤ —Ç–æ–º —Å—Ç–∏–ª–µ, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã –Ω–∞—á–∞–ª.

---

# –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

`var ninja = {   weapon: 'knife',   fight() {     return 'take my ' + this.weapon;   } };  var fn = ninja.fight; fn();`

–ë—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å **strict mode**, —á—Ç–æ–±—ã –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±—ã–ª–æ —á–µ—Å—Ç–Ω—ã–º –∏ –Ω–∞–≥–ª—è–¥–Ω—ã–º.

---

# 1Ô∏è‚É£ Global Execution Context

## 1.1 –°–æ–∑–¥–∞–Ω–∏–µ Global EC

JS –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–¥ ‚Üí —Å–æ–∑–¥–∞—ë—Ç **Global Execution Context** ‚Üí –∫–ª–∞–¥—ë—Ç –≤ —Å—Ç–µ–∫.

`Call Stack: | Global EC |`

---

## 1.2 –§–ê–ó–ê –°–û–ó–î–ê–ù–ò–Ø (Creation Phase)

### Global Lexical Environment

#### Environment Record:

- `ninja` ‚Üí `undefined` (`var`)
    
- `fn` ‚Üí `undefined` (`var`)
    
- `fight` ‚ùå –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è (—ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–∞, –Ω–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)
    

#### Function Declarations:

- ‚ùå –Ω–µ—Ç
    

#### Outer Environment Reference:

`null`

---

# 2Ô∏è‚É£ –§–ê–ó–ê –í–´–ü–û–õ–ù–ï–ù–ò–Ø (Execution Phase)

–ö–æ–¥ –∏–¥—ë—Ç **—Å—Ç—Ä–æ–∫–∞ –∑–∞ —Å—Ç—Ä–æ–∫–æ–π**.

---

## 2.1 –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ `ninja`

`var ninja = {   weapon: 'knife',   fight() {     return 'take my ' + this.weapon;   } };`

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1. –°–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—ä–µ–∫—Ç `{}`
    
2. –°–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ `'knife'`
    
3. –°–æ–∑–¥–∞—ë—Ç—Å—è **–æ–±—ä–µ–∫—Ç-—Ñ—É–Ω–∫—Ü–∏—è `fight`**
    
    - —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è
        
    - `fight.[[Environment]] ‚Üí Global Lexical Environment`
        
4. –°–≤–æ–π—Å—Ç–≤–∞ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é—Ç—Å—è –æ–±—ä–µ–∫—Ç—É
    
5. –°—Å—ã–ª–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç –∫–ª–∞–¥—ë—Ç—Å—è –≤ `ninja`
    

–¢–µ–ø–µ—Ä—å –≤ –ø–∞–º—è—Ç–∏:

`ninja ‚Üí {   weapon: 'knife',   fight: <function> }`

---

## 2.2 –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ `fn`

`var fn = ninja.fight;`

‚ö†Ô∏è **–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç**

JS –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

1. –í—ã—á–∏—Å–ª—è–µ—Ç `ninja.fight`
    
    - –±–µ—Ä—ë—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é
        
2. **–ù–∏–∫–∞–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (`this`) —Ç—É—Ç –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**
    
3. –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `fn`
    

`fn ‚Üí <function fight>`

–¢–µ–ø–µ—Ä—å:

`ninja.fight === fn // true`

---

# 3Ô∏è‚É£ –í—ã–∑–æ–≤ `fn()`

`fn();`

–í–æ—Ç –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **—Å–ª–æ–º –æ–∂–∏–¥–∞–Ω–∏–π**.

---

# 4Ô∏è‚É£ –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ `fn()`

## 4.1 –¢–∏–ø –≤—ã–∑–æ–≤–∞

–≠—Ç–æ **–æ–±—ã—á–Ω—ã–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏**, –Ω–µ –º–µ—Ç–æ–¥:

`CallExpression:   callee: Identifier (fn)`

‚û°Ô∏è **–Ω–µ—Ç –æ–±—ä–µ–∫—Ç–∞ —Å–ª–µ–≤–∞ –æ—Ç —Ç–æ—á–∫–∏**

---

## 4.2 –°–æ–∑–¥–∞–Ω–∏–µ Function Execution Context

JS:

1. —Å–æ–∑–¥–∞—ë—Ç **Function Execution Context**
    
2. –∫–ª–∞–¥—ë—Ç –µ–≥–æ –≤ —Å—Ç–µ–∫
    

`Call Stack: | fn EC | | Global EC |`

---

## 4.3 –§–ê–ó–ê –°–û–ó–î–ê–ù–ò–Ø (Creation Phase)

### Lexical Environment:

#### Environment Record:

- –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí –Ω–µ—Ç
    
- `arguments` ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è
    
- –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚Üí –Ω–µ—Ç
    

#### Outer Environment Reference:

`‚Üí Global Lexical Environment`

(–∏–∑ `fn.[[Environment]]`)

---

## 4.4 ThisBinding ‚Äî –°–ê–ú–´–ô –í–ê–ñ–ù–´–ô –ú–û–ú–ï–ù–¢

–î–ª—è **–æ–±—ã—á–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏**:

`fn();`

–í **strict mode**:

`this = undefined`

–í **non-strict**:

`this = global object (window)`

‚ÄºÔ∏è `this` **–ù–ï ninja**  
‚ÄºÔ∏è –ø–æ—Ç–æ–º—É —á—Ç–æ **ninja –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –≤—ã–∑–æ–≤–µ**

---

# 5Ô∏è‚É£ –§–ê–ó–ê –í–´–ü–û–õ–ù–ï–ù–ò–Ø

`return 'take my ' + this.weapon;`

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1. `this` ‚Üí `undefined`
    
2. –ø–æ–ø—ã—Ç–∫–∞ `this.weapon`
    
3. ‚ùå TypeError:
    

`Cannot read properties of undefined (reading 'weapon')`

---

# 6Ô∏è‚É£ –ü–æ—á–µ–º—É —ç—Ç–æ –ª–æ–≥–∏—á–Ω–æ (—Ä–∞–∑–±–∏–≤–∞–µ–º –∏–ª–ª—é–∑–∏—é)

### –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –æ—à–∏–±–∫–∞:

> —Ñ—É–Ω–∫—Ü–∏—è ¬´–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç¬ª –æ–±—ä–µ–∫—Ç—É

### –†–µ–∞–ª—å–Ω–æ—Å—Ç—å:

> **—Ñ—É–Ω–∫—Ü–∏—è ‚Äî —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ**

`ninja.fight; // –ø—Ä–æ—Å—Ç–æ —Å—Å—ã–ª–∫–∞`

–û–±—ä–µ–∫—Ç:

- **–ù–ï –≤–ª–∞–¥–µ–µ—Ç `this`**
    
- **–ù–ï —Ö—Ä–∞–Ω–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç**
    

---

# 7Ô∏è‚É£ –û—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∞—è –º–æ–¥–µ–ª—å (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞)

> **`this` = —Ç–æ, —á—Ç–æ —Å—Ç–æ–∏—Ç —Å–ª–µ–≤–∞ –æ—Ç —Ç–æ—á–∫–∏ –≤ –º–æ–º–µ–Ω—Ç –í–´–ó–û–í–ê**

|–í—ã–∑–æ–≤|this|
|---|---|
|`ninja.fight()`|`ninja`|
|`fn()`|`undefined`|
|`(0, ninja.fight)()`|`undefined`|
|`ninja.fight.call(ninja)`|`ninja`|

---

# 8Ô∏è‚É£ –ö–∞–∫ —ç—Ç–æ ¬´–ª–µ—á–∞—Ç¬ª –∏ –ü–û–ß–ï–ú–£ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1Ô∏è‚É£ bind

`var fn = ninja.fight.bind(ninja); fn(); // ok`

`bind`:

- —Å–æ–∑–¥–∞—ë—Ç **–Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é**
    
- —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç `this`
    

---

### 2Ô∏è‚É£ arrow function

`var fn = () => ninja.fight();`

Arrow:

- –Ω–µ –∏–º–µ–µ—Ç —Å–≤–æ–µ–≥–æ `this`
    
- –±–µ—Ä—ë—Ç `this` –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
    

---

# üîë –§–∏–Ω–∞–ª—å–Ω—ã–π —è–∫–æ—Ä—å

> **–ú–µ—Ç–æ–¥ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è,  
> –ø–æ–∫–∞ —Ç—ã –Ω–µ –≤—ã–∑–≤–∞–ª –µ—ë –∫–∞–∫ –º–µ—Ç–æ–¥.**

–ò –µ—â—ë:

> **Execution Context —Ä–µ—à–∞–µ—Ç `this`,  
> –∞ –Ω–µ –æ–±—ä–µ–∫—Ç –∏ –Ω–µ –º–µ—Å—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è.**