> [! info]+ –ú–æ–π –≤–æ–ø—Ä–æ—Å
> –ü–æ–¥—Å–∫–∞–∂–∏, lexical environment –∏ [[Environment]] - –Ω–µ –æ–¥–Ω–æ –∏ —Ç–æ–∂–µ?

–ö–æ—Ä–æ—Ç–∫–æ: **–Ω–µ—Ç, —ç—Ç–æ –Ω–µ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ**, –Ω–æ –æ–Ω–∏ **–Ω–∞–ø—Ä—è–º—É—é —Å–≤—è–∑–∞–Ω—ã**.  
–ê —Ç–µ–ø–µ—Ä—å ‚Äî –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –∏ –ø–æ –ø–æ–ª–æ—á–∫–∞–º, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ _–æ—á–µ–Ω—å_ –≤–∞–∂–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ üëá

---

# üß† –î–≤–∞ —Ç–µ—Ä–º–∏–Ω–∞, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –ø—É—Ç–∞—é—Ç

## 1Ô∏è‚É£ Lexical Environment (LE)

> **Lexical Environment** ‚Äî —ç—Ç–æ _—Å—Ç—Ä—É–∫—Ç—É—Ä–∞_, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç:

- –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`let / const / var`)
    
- –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏
    
- —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω–µ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
    

–§–æ—Ä–º–∞–ª—å–Ω–æ (–ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏):

`Lexical Environment = {   Environment Record,   Outer Environment Reference }`

LE —Å–æ–∑–¥–∞—ë—Ç—Å—è:

- –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∫—Ä–∏–ø—Ç–∞ (global)
    
- –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏
    
- –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –±–ª–æ–∫ `{}` (–¥–ª—è let/const)
    

---

## 2Ô∏è‚É£ `[[Environment]]` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–ª–æ—Ç —Ñ—É–Ω–∫—Ü–∏–∏)

> **`[[Environment]]`** ‚Äî —ç—Ç–æ _—Å—Å—ã–ª–∫–∞_, —Ö—Ä–∞–Ω—è—â–∞—è—Å—è **–≤ –æ–±—ä–µ–∫—Ç–µ-—Ñ—É–Ω–∫—Ü–∏–∏**

–û–Ω–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç:  
‚û°Ô∏è **–Ω–∞ Lexical Environment, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ñ—É–Ω–∫—Ü–∏—è –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞**

–í–∞–∂–Ω–æ:

- `[[Environment]]` –µ—Å—Ç—å **—Ç–æ–ª—å–∫–æ —É —Ñ—É–Ω–∫—Ü–∏–π**
    
- —ç—Ç–æ –Ω–µ —Å—Ä–µ–¥–∞, –∞ **—É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –Ω–µ—ë**
    

---

# üîó –ö–∞–∫ –æ–Ω–∏ —Å–≤—è–∑–∞–Ω—ã (–∫–ª—é—á–µ–≤–∞—è –º—ã—Å–ª—å)

> **Lexical Environment ‚Äî —ç—Ç–æ ¬´–∫–æ–º–Ω–∞—Ç–∞¬ª  
> `[[Environment]]` ‚Äî —ç—Ç–æ ¬´–∞–¥—Ä–µ—Å, –≥–¥–µ —ç—Ç–∞ –∫–æ–º–Ω–∞—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è¬ª**

---

## 3Ô∏è‚É£ –†–∞–∑–±–µ—Ä—ë–º –Ω–∞ —Ç–≤–æ—ë–º –ø—Ä–∏–º–µ—Ä–µ

`function outer() {   let x = 10;    return function inner() {     return x++;   }; }`

### –®–∞–≥ 1. –û–±—ä—è–≤–ª–µ–Ω–∏–µ `outer`

–°–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—ä–µ–∫—Ç-—Ñ—É–Ω–∫—Ü–∏—è `outer`:

`outer {   [[Environment]] ‚Üí Global LE }`

---

### –®–∞–≥ 2. –í—ã–∑–æ–≤ `outer()`

–°–æ–∑–¥–∞—ë—Ç—Å—è **–ù–û–í–´–ô Lexical Environment**:

`LE_outer_1:   x = 10   Outer ‚Üí Global LE`

---

### –®–∞–≥ 3. –°–æ–∑–¥–∞–Ω–∏–µ `inner`

–°–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—ä–µ–∫—Ç-—Ñ—É–Ω–∫—Ü–∏—è `inner`:

`inner {   [[Environment]] ‚Üí LE_outer_1 }`

‚ÄºÔ∏è –í–æ—Ç —ç—Ç–æ –∏ –µ—Å—Ç—å **–∑–∞–º—ã–∫–∞–Ω–∏–µ**

---

## 4Ô∏è‚É£ –í—ã–∑–æ–≤ `first()`

`var first = outer(); first();`

–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `inner`:

1. —Å–æ–∑–¥–∞—ë—Ç—Å—è `LE_inner`
    
2. –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ **–Ω–µ—Ç `x`**
    
3. –¥–≤–∏–∂–æ–∫ –∏–¥—ë—Ç –ø–æ —Ü–µ–ø–æ—á–∫–µ:
    
    `LE_inner ‚Üí [[Environment]] ‚Üí LE_outer_1`
    

---

# 5Ô∏è‚É£ –ö–æ—Ä–æ—Ç–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ (–æ—á–µ–Ω—å –ø–æ–º–æ–≥–∞–µ—Ç)

||Lexical Environment|`[[Environment]]`|
|---|---|---|
|–ß—Ç–æ —ç—Ç–æ|–°—Ä–µ–¥–∞|–°—Å—ã–ª–∫–∞|
|–ì–¥–µ –∂–∏–≤—ë—Ç|–í –¥–≤–∏–∂–∫–µ|–í –æ–±—ä–µ–∫—Ç–µ-—Ñ—É–Ω–∫—Ü–∏–∏|
|–•—Ä–∞–Ω–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ|‚úÖ|‚ùå|
|–•—Ä–∞–Ω–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞—Ä—É–∂—É|‚úÖ|‚ùå|
|–£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ LE|‚ùå|‚úÖ|

---

# 6Ô∏è‚É£ –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–∑–ª–∏—á–∏–µ –≤–∞–∂–Ω–æ

–ü–æ—Ç–æ–º—É —á—Ç–æ:

- LE **–º–æ–∂–µ—Ç –±—ã—Ç—å —É–Ω–∏—á—Ç–æ–∂–µ–Ω**
    
- –Ω–æ –µ—Å–ª–∏ **–Ω–∞ –Ω–µ–≥–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç `[[Environment]]`**, –æ–Ω –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
    
- –∏–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –∑–∞–º—ã–∫–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
    

> **GC —É–¥–∞–ª—è–µ—Ç –Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–µ Lexical Environments**

---

# üîë –§–∏–Ω–∞–ª—å–Ω—ã–π —è–∫–æ—Ä—å

–ó–∞–ø–æ–º–Ω–∏ —Ç–∞–∫ ‚Äî —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑–æ—Ç–∫–∞–∑–Ω–æ:

> **Lexical Environment ‚Äî —ç—Ç–æ –¥–∞–Ω–Ω—ã–µ  
> `[[Environment]]` ‚Äî —ç—Ç–æ —Å–≤—è–∑—å**

–∏–ª–∏ –µ—â—ë –∫–æ—Ä–æ—á–µ:

> **–ó–∞–º—ã–∫–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –Ω–µ —Ñ—É–Ω–∫—Ü–∏—è,  
> –∑–∞–º—ã–∫–∞–Ω–∏–µ ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è + —Å—Å—ã–ª–∫–∞ –Ω–∞ Lexical Environment**