> [! info]+ –ú–æ–π –≤–æ–ø—Ä–æ—Å
> –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Ö–∞–Ω–∏–∑–º –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∏ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —É –º–µ–Ω—è –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è function outer() { let x = 10; return function inner() { return x++; } } –¥–∞–ª–µ–µ —è –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é –¥–≤—É–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ var first = outer(); var second = outer(); —Å–µ–π—á–∞—Å —ç—Ç–æ –¥–≤–∞ –∞–±—Å–æ–ª—é—Ç–Ω–æ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–º —Å—á—ë—Ç—á–∏–∫–∞ (–∑–∞–º—ã–∫–∞–Ω–∏–µ) —É –º–µ–Ω—è –≤–æ—Ç –≤ —á—ë–º –≤–æ–ø—Ä–æ—Å —É –Ω–∞—Å –µ—Å—Ç—å –æ–¥–Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏, —Å –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –¥–∞–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ –≤—ã–∑—ã–≤–∞—Ç—å –æ–¥–Ω—É —á–∞—â–µ –¥—Ä—É–≥–æ–π –ø—Ä–∏ —ç—Ç–æ–º, –µ—Å–ª–∏ –º–µ–Ω—è—Ç—å —á—Ç–æ-—Ç–æ –≤ —Å–∞–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–æ —ç—Ç–æ –æ—Ç—Ä–∞–∑–∏—Ç—å—Å—è –Ω–∞ –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –≤—ã–∑–æ–≤–∞ —Ç–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —É –º–µ–Ω—è —Å–ª–æ–∂–∏–ª–æ—Å—å –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ, —á—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, —ç—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –±–ª–æ–∫–∞ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏. –ê –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –±–ª–æ–∫ –∫–æ–¥–∞ –∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –æ–Ω –Ω–æ–≤—ã–π, –∫–∞–∫ –ø–æ –∫–∞–ª—å–∫–µ, –∫–∞–∫ –ø—Ä–æ–ø–∏—Å–∞–Ω–æ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ: { let x = 10; return function inner() { console.log(x); } } –Ω–∞—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä–Ω—ã –º–æ–∏ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è?

# 1Ô∏è‚É£ –ß—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –º—ã –ø–∏—à–µ–º `function outer()`

### –¢–í–û–Å –ü–†–ï–î–ü–û–õ–û–ñ–ï–ù–ò–ï (–∏ –æ–Ω–æ –≤–µ—Ä–Ω–æ–µ):

> –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî —ç—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –±–ª–æ–∫–∞ –∫–æ–¥–∞

### –¢–û–ß–ù–û–ï –£–¢–û–ß–ù–ï–ù–ò–ï:

–û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞—ë—Ç **–æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç-—Ñ—É–Ω–∫—Ü–∏—é**:

`outer ‚Üí Function object`

–≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:

- —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏ (–∫–æ–¥)
    
- `[[Environment]]` ‚Üí **—Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–Ω–µ—à–Ω—é—é –ª–µ–∫—Å–∏—á–µ—Å–∫—É—é —Å—Ä–µ–¥—É**  
    (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—É—é)
    

‚ö†Ô∏è –í–ê–ñ–ù–û:  
**–∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏**

---

# 2Ô∏è‚É£ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –í–´–ó–û–í–ï `outer()`

–í–æ—Ç —Ç—É—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –º–∞–≥–∏—è, –∏ —Ç—ã –µ—ë —É–∂–µ –ø–æ—á—Ç–∏ –æ–ø–∏—Å–∞–ª –∏–¥–µ–∞–ª—å–Ω–æ.

### –ü—Ä–∏ –ö–ê–ñ–î–û–ú –≤—ã–∑–æ–≤–µ `outer()`:

1. –°–æ–∑–¥–∞—ë—Ç—Å—è **–ù–û–í–´–ô Function Execution Context**
    
2. –°–æ–∑–¥–∞—ë—Ç—Å—è **–ù–û–í–´–ô Lexical Environment**
    
3. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏
    

`Call #1: LE_outer_1 Call #2: LE_outer_2`

---

## 2.1 –°–æ–∑–¥–∞–Ω–∏–µ `x`

`let x = 10;`

üëâ **–ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Å–æ–∑–¥–∞—ë—Ç –ù–û–í–£–Æ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `x`**

`LE_outer_1: x = 10 LE_outer_2: x = 10`

–≠—Ç–æ **–¥–≤–µ —Ä–∞–∑–Ω—ã–µ —è—á–µ–π–∫–∏ –ø–∞–º—è—Ç–∏**, –Ω–µ –æ–¥–Ω–∞.

---

# 3Ô∏è‚É£ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å `inner`

`return function inner() {   return x++; };`

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ `outer()`:

- —Å–æ–∑–¥–∞—ë—Ç—Å—è **–ù–û–í–´–ô –æ–±—ä–µ–∫—Ç-—Ñ—É–Ω–∫—Ü–∏—è `inner`**
    
- –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç —Å–∫—Ä—ã—Ç–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ:
    
    `[[Environment]] ‚Üí LE_outer_X`
    

–¢–æ –µ—Å—Ç—å:

`first  ‚Üí inner_1 ‚Üí [[Environment]] ‚Üí LE_outer_1 (x = 10) second ‚Üí inner_2 ‚Üí [[Environment]] ‚Üí LE_outer_2 (x = 10)`

üí• **–í–æ—Ç –ø–æ—á–µ–º—É —ç—Ç–æ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–µ —Å—á—ë—Ç—á–∏–∫–∏**

---

# 4Ô∏è‚É£ –ü–æ—á–µ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏–µ –†–ê–ó–ù–û–ï –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–º –∫–æ–¥–µ

–¢—ã –∑–∞–¥–∞–ª –∫–ª—é—á–µ–≤–æ–π –≤–æ–ø—Ä–æ—Å:

> —É –Ω–∞—Å –æ–¥–Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏, —Å –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

‚ö†Ô∏è –£–¢–û–ß–ù–ï–ù–ò–ï:

- **–û–¥–Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**
    
- ‚ùå **–ù–ï –æ–¥–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è**
    
- ‚úÖ **–ú–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π**
    

–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `x`:

- —Å–æ–∑–¥–∞—ë—Ç—Å—è **–ø—Ä–∏ –≤—ã–∑–æ–≤–µ**
    
- –∂–∏–≤—ë—Ç **–≤ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–π —Å—Ä–µ–¥–µ –≤—ã–∑–æ–≤–∞**
    
- –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ —Ç–µ–∫—Å—Ç—É
    

---

# 5Ô∏è‚É£ –ü–æ—á–µ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–ª–∏—è–µ—Ç –Ω–∞ –±—É–¥—É—â–∏–µ –≤—ã–∑–æ–≤—ã

> –µ—Å–ª–∏ –º–µ–Ω—è—Ç—å —á—Ç–æ-—Ç–æ –≤ —Å–∞–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, —ç—Ç–æ –æ—Ç—Ä–∞–∑–∏—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

‚úî **–ê–±—Å–æ–ª—é—Ç–Ω–æ –≤–µ—Ä–Ω–æ**, –∏ –≤–æ—Ç –ø–æ—á–µ–º—É:

`function outer() {   let x = 10;   return function inner() {     return x + 100; // –∏–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥   }; }`

- —Ç–µ–∫—Å—Ç —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî **–æ–¥–∏–Ω**
    
- –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —à–∞–±–ª–æ–Ω
    
- –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Å–æ–∑–¥–∞—ë—Ç **–Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–∫—Ä—É–∂–µ–Ω–∏—è**
    
- –Ω–æ **–∫–æ–¥ ‚Äî –æ–±—â–∏–π**
    

üí° –û—Ç–ª–∏—á–Ω–∞—è –∞–Ω–∞–ª–æ–≥–∏—è:

> —Ñ—É–Ω–∫—Ü–∏—è = **—á–µ—Ä—Ç—ë–∂**  
> –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ = **–¥–æ–º –ø–æ —ç—Ç–æ–º—É —á–µ—Ä—Ç–µ–∂—É**

---

# 6Ô∏è‚É£ –¢–≤–æ–π –≥–ª–∞–≤–Ω—ã–π –≤—ã–≤–æ–¥ ‚Äî —è –µ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é

> –∫–∞–∂–¥—ã–π —Ä–∞–∑ –æ–Ω –Ω–æ–≤—ã–π, –∫–∞–∫ –ø–æ –∫–∞–ª—å–∫–µ

‚úî **–î–ê. –ù–ê 100%.**

–ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤:

- –Ω–æ–≤—ã–π Execution Context
    
- –Ω–æ–≤–æ–µ Lexical Environment
    
- –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    
- –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç `inner`
    

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ, —á—Ç–æ –ù–ï –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è:

- **–∫–æ–¥** (–æ–Ω –æ–±—â–∏–π)
    

---

# 7Ô∏è‚É£ –°—Ö–µ–º–∞ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É (–æ—á–µ–Ω—å —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å)

`Function declaration   ‚Üì One function object (code + environment reference)  Function call   ‚Üì New execution context New lexical environment New variables New closures`

---

# 8Ô∏è‚É£ –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∞–∂–Ω—ã–π —è–∫–æ—Ä—å üß†

> **–§—É–Ω–∫—Ü–∏—è ‚Äî —ç—Ç–æ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.  
> –§—É–Ω–∫—Ü–∏—è ‚Äî —ç—Ç–æ —Ñ–∞–±—Ä–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π.**

–ê –∑–∞–º—ã–∫–∞–Ω–∏–µ ‚Äî —ç—Ç–æ:


> **—Å–ø–æ—Å–æ–± —É–¥–µ—Ä–∂–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**